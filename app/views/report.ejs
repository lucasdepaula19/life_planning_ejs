<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <%- include('./partials/head.ejs'); -%>
  </head>

  <body>
    <header class="text-center">
      <%- include('./partials/header.ejs'); -%>
    </header>

    <!-- <div class="p-3 mx-auto flex-column"> -->
    <main role="main" class="container">
      <div class="title">
        <h1>Reports</h1>
        <p onclick="decMonth()">
            <svg class="bi bi-arrow-left-circle-fill" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-7.646 2.646a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L6.207 7.5H11a.5.5 0 0 1 0 1H6.207l2.147 2.146z"/>
            </svg>
        </p>

        <h5 id="resultMonth"></h5>

        <p onclick="incMonth()">
            <svg class="bi bi-arrow-right-circle-fill" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-8.354 2.646a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L9.793 7.5H5a.5.5 0 0 0 0 1h4.793l-2.147 2.146z"/>
            </svg>
        </p>

      </div>
      <div class="row">
        <div class="text-center col-xs-12 col-sm-12 col-md-12 col-lg-3">
          <button
            type="button"
            class="btn btn-outline-info buttonInput"
            data-toggle="modal"
            data-target="#revenueModal"
          >
            Adicionar Receita
          </button>
          <button
            type="button"
            class="btn btn-outline-info buttonInput"
            data-toggle="modal"
            data-target="#expenseModal"
          >
            Adicionar Despesa
          </button>
          <button
            type="button"
            class="btn btn-outline-info buttonInput"
            data-toggle="modal"
            data-target="#categoryModal"
          >
            Adicionar Categoria
          </button>
          <button
            type="button"
            class="btn btn-outline-info buttonInput"
            data-toggle="modal"
            data-target="#expenseModalDel"
          >
            Remover Despesa
          </button>
          <button
            type="button"
            class="btn btn-outline-info buttonInput"
            data-toggle="modal"
            data-target="#revenueModalDel"
          >
            Remover Receita
          </button>
          <button
            type="button"
            class="btn btn-outline-info buttonInput"
            data-toggle="modal"
            data-target="#categoryModalDel"
          >
            Remover Categoria
          </button>
          <button
            type="button"
            class="btn btn-outline-info buttonInput"
            data-toggle="modal"
            data-target="#revenueModalInsert"
          >
            Inserir Receita
          </button>
          <button
            type="button"
            class="btn btn-outline-info buttonInput"
            data-toggle="modal"
            data-target="#expenseModalInsert"
          >
            Inserir Despesa
          </button>
        </div>

        <!-- Tabela de despesas e receitas -->
        <div
          class="table-responsive col-xs-12 col-sm-12 col-md-12 col-lg-9 col-xl-9"
        >
          <table class="table min-whith table-striped table-light table-sm">
            <thead class="thead-light">
              <tr>
                <th>Categoria</th>
                <th>Descrição</th>
                <th>Valor</th>
                <th></th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <% for(var i = 0; i < objDados.insertRevenue.length; i++) { %> <%
              if( objDados.insertExpense[i].type == 'Receita' ){ %>
              <tr>
                <td>
                  <% for(var j = 0; j < objDados.revenues.length; j++) { %> <%
                  if( objDados.revenues[j].name ==
                  objDados.insertRevenue[i].insertion ){ %> <%=
                  objDados.revenues[j].category %>
                  <!--% console.log('insertRevenue: ' + objDados.insertRevenue[1].insertion) %-->
                  <% } %> <% } %>
                </td>
                <td>
                  <%= objDados.insertRevenue[i].insertion %>
                </td>
                <td>
                  <%= objDados.insertRevenue[i].value %>
                </td>
                <td></td>
                <td></td>
              </tr>
              <% } %> <% } %>
              <tr>
                <td><b>Total de receitas</b></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
              </tr>
            </tbody>
          </table>

          <table class="table min-whith table-striped table-light table-sm">
            <thead class="thead-light">
              <tr>
                <th>Categoria</th>
                <th>Descrição</th>
                <th>Valor</th>
                <th>Vencimento</th>
                <th>Situação</th>
              </tr>
            </thead>
            <tbody>
              <% for(var i = 0; i < objDados.insertExpense.length; i++) { %> <%
              if( objDados.insertExpense[i].type == 'Despesa' && objDados.insertExpense[i].month == '6' ){ %>
              <tr>
                <td>
                  <% for(var j = 0; j < objDados.expenses.length; j++) { %> <%
                  if( objDados.expenses[j].name ==
                  objDados.insertExpense[i].insertion ){ %> <%=
                  objDados.expenses[j].category %> <% } %> <% } %>
                </td>
                <td>
                  <%= objDados.insertExpense[i].insertion %>
                </td>
                <td>
                  <%= objDados.insertExpense[i].value %>
                </td>
                <td>
                  <% for(var j = 0; j < objDados.expenses.length; j++) { %> <%
                  if( objDados.expenses[j].name ==
                  objDados.insertExpense[i].insertion ){ %> <%=
                  objDados.expenses[j].due %> <% } %> <% } %>
                </td>
                <td>
                  <%= objDados.insertExpense[i].situation %>
                </td>
              </tr>
              <% } %> <% } %>
              <tr>
                <td><b>Total de despesas</b></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
              </tr>
            </tbody>
          </table>
        </div>
        <%- include('./partials/modal.ejs', {objDados}); -%>
      </div>

      <!-- <aside id="optionsInput"> 
      </aside> -->

      <!-- <div id="mainReports">

      </div> -->
    </main>
    <footer class="footer text-center">
      <%- include('./partials/footer.ejs'); -%>
    </footer>
    <%- include('./partials/scripts.ejs'); -%>
  </body>
</html>
